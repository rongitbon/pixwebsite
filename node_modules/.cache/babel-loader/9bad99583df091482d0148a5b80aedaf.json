{"ast":null,"code":"import * as actionTypes from './actionType.js';\nimport * as form from './form.js';\nimport axios from 'axios';\nexport var setUserInfo = function setUserInfo(userInfo) {\n  return {\n    type: actionTypes.SET_USER_INFO,\n    userInfo: userInfo\n  };\n};\nexport var signupFailed = function signupFailed(error) {\n  return {\n    type: actionTypes.SIGNUP_FAILED,\n    error: error\n  };\n};\nexport var updateProfile = function updateProfile(id, nickname, description, email, image_path) {\n  return function (dispatch) {\n    dispatch(form.startLoading('editProfile'));\n    console.log(id, nickname, description, email, image_path);\n    axios.post('http://localhost:3001/update_profile', {\n      nickname: nickname,\n      description: description,\n      email: email,\n      image_path: image_path,\n      id: id\n    }).then(function (user) {\n      dispatch(addCardToTheDeck(user.data[0]));\n      console.log(user);\n      dispatch({\n        type: actionTypes.CLOSE_EDIT_ITEM_FORM\n      });\n      dispatch(form.stopLoading('editProfile'));\n    }).catch(function (error_msg) {\n      //dispatch(signupFailed(error))\n      dispatch(form.stopLoading('editProfile'));\n      dispatch(form.compFailed(error_msg.response.data, \"editProfile\"));\n    });\n  };\n};\nexport var updateUserProfile = function updateUserProfile(user) {\n  return {\n    type: actionTypes,\n    user: user\n  };\n};\nexport var login = function login(email, password) {\n  return function (dispatch) {\n    dispatch(form.startLoading('login'));\n    axios.post('http://localhost:3001/login', {\n      email: email,\n      password: password\n    }).then(function (user) {\n      dispatch(setUserInfo(user.data));\n      dispatch({\n        type: actionTypes.CLOSE_LOGIN_FORM\n      });\n      dispatch(form.stopLoading('login'));\n    }).catch(function (error_msg) {\n      dispatch(form.compFailed(error_msg.response.data, \"login\"));\n      dispatch(form.stopLoading('login'));\n    });\n  };\n};\nexport var signup = function signup(email, nickname, password) {\n  return function (dispatch) {\n    dispatch(form.startLoading('signup'));\n    axios.post('http://localhost:3001/signup', {\n      email: email,\n      nickname: nickname,\n      password: password\n    }).then(function (user) {\n      dispatch(setUserInfo(user.data));\n      dispatch({\n        type: actionTypes.CLOSE_LOGIN_FORM\n      });\n      dispatch(form.stopLoading('signup'));\n    }).catch(function (error_msg) {\n      dispatch(form.compFailed(error_msg.response.data, \"signup\"));\n      dispatch(form.stopLoading('signup'));\n    });\n  };\n};\nexport var signout = function signout() {\n  return {\n    type: actionTypes.SIGNOUT\n  };\n};","map":{"version":3,"sources":["D:\\udemy\\project\\pixwebsite\\src\\store\\actions\\account.js"],"names":["actionTypes","form","axios","setUserInfo","userInfo","type","SET_USER_INFO","signupFailed","error","SIGNUP_FAILED","updateProfile","id","nickname","description","email","image_path","dispatch","startLoading","console","log","post","then","user","addCardToTheDeck","data","CLOSE_EDIT_ITEM_FORM","stopLoading","catch","error_msg","compFailed","response","updateUserProfile","login","password","CLOSE_LOGIN_FORM","signup","signout","SIGNOUT"],"mappings":"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","sourcesContent":["import * as actionTypes from './actionType.js';\r\nimport * as form from './form.js';\r\nimport axios from 'axios';\r\n\r\nexport const setUserInfo = (userInfo) => {\r\n    return {\r\n        type: actionTypes.SET_USER_INFO,\r\n        userInfo: userInfo\r\n    };\r\n};\r\n\r\n\r\nexport const signupFailed = (error) => {\r\n    return {\r\n        type: actionTypes.SIGNUP_FAILED,\r\n        error: error,\r\n    };\r\n};\r\n\r\nexport const updateProfile = (id, nickname, description, email, image_path) => {\r\n    return (dispatch) => {\r\n        dispatch(form.startLoading('editProfile'));\r\n        console.log(id, nickname, description, email, image_path);\r\n        axios.post('http://localhost:3001/update_profile', {\r\n            nickname: nickname,\r\n            description: description,\r\n            email: email,\r\n            image_path: image_path,\r\n            id: id\r\n        })\r\n        .then(user => {\r\n            dispatch(addCardToTheDeck(user.data[0]));\r\n            console.log(user);\r\n            dispatch({type: actionTypes.CLOSE_EDIT_ITEM_FORM});\r\n            dispatch(form.stopLoading('editProfile'));\r\n        })\r\n        .catch(error_msg => {\r\n            //dispatch(signupFailed(error))\r\n            dispatch(form.stopLoading('editProfile'));\r\n            dispatch(form.compFailed(error_msg.response.data, \"editProfile\"));\r\n        });\r\n    }\r\n};\r\n\r\nexport const updateUserProfile = (user) => {\r\n    return {\r\n        type: actionTypes,\r\n        user: user\r\n    };\r\n};\r\n\r\nexport const login = (email, password) => {\r\n\r\n    return (dispatch) => {\r\n        dispatch(form.startLoading('login'));\r\n        axios.post('http://localhost:3001/login', {\r\n            email: email,\r\n            password: password\r\n        })\r\n        .then(user => {\r\n            dispatch(setUserInfo(user.data));\r\n            dispatch({type: actionTypes.CLOSE_LOGIN_FORM});\r\n            dispatch(form.stopLoading('login'));\r\n        })\r\n        .catch(error_msg => {\r\n            dispatch(form.compFailed(error_msg.response.data, \"login\"));\r\n            dispatch(form.stopLoading('login'));\r\n        });\r\n    };\r\n};\r\n\r\nexport const signup = (email, nickname, password) => {\r\n    return (dispatch) => {\r\n        dispatch(form.startLoading('signup'));\r\n        axios.post('http://localhost:3001/signup', {\r\n            email: email,\r\n            nickname: nickname,\r\n            password: password\r\n        })\r\n        .then(user => {\r\n            dispatch(setUserInfo(user.data));\r\n            dispatch({type: actionTypes.CLOSE_LOGIN_FORM});\r\n            dispatch(form.stopLoading('signup'));\r\n        })\r\n        .catch(error_msg => {\r\n            dispatch(form.compFailed(error_msg.response.data, \"signup\"));\r\n            dispatch(form.stopLoading('signup'));\r\n        });\r\n    };\r\n}\r\n\r\nexport const signout = () => {\r\n    return {\r\n        type: actionTypes.SIGNOUT\r\n    };\r\n};"]},"metadata":{},"sourceType":"module"}