{"ast":null,"code":"import * as actionTypes from './actionType.js';\nimport * as form from './form.js';\nimport axios from 'axios';\nexport var addCardToTheDeck = function addCardToTheDeck(card) {\n  return {\n    type: actionTypes.ADD_CARD_TO_THE_DECK,\n    card: card\n  };\n};\nexport var addCard = function addCard(imgpath, itemselection, itemname, itemdescription, itemprice, userId) {\n  return function (dispatch) {\n    dispatch(form.startLoading('editItem'));\n    console.log(imgpath, itemselection, itemname, itemdescription, itemprice, userId);\n    axios.post('http://localhost:3001/addcard', {\n      name: itemname,\n      description: itemdescription,\n      price: itemprice,\n      character_type: itemselection,\n      image_path: imgpath,\n      owner_id: userId\n    }).then(function (card) {\n      dispatch(addCardToTheDeck(card.data[0]));\n      console.log(card);\n      dispatch({\n        type: actionTypes.CLOSE_EDIT_ITEM_FORM\n      });\n      dispatch(form.stopLoading('editItem'));\n    }).catch(function (error_msg) {\n      //dispatch(signupFailed(error))\n      dispatch(form.stopLoading('editItem'));\n      dispatch(form.compFailed(error_msg, \"editItem\"));\n    });\n  };\n};\nexport var setUserDeck = function setUserDeck(deck) {\n  return {\n    type: actionTypes.SET_USER_DECK,\n    deck: deck\n  };\n};\nexport var getUserCards = function getUserCards(userId) {\n  return function (dispatch) {\n    console.log(userId + \"hi\");\n    axios.post('http://localhost:3001/get_user_cards', {\n      owner_id: userId\n    }).then(function (card) {\n      dispatch(setUserDeck(card.data));\n    }).catch(function (error) {\n      return (//dispatch(signupFailed(error))\n        console.log(error)\n      );\n    });\n  };\n};\nexport var setCheapestCards = function setCheapestCards(cards, character_type) {\n  return {\n    type: actionTypes.SET_CHEAPEST_CARDS,\n    cards: cards,\n    character_type: character_type\n  };\n};\nexport var getCheapestCards = function getCheapestCards(character_type) {\n  return function (dispatch) {\n    console.log(character_type + \"hi\");\n    axios.post('http://localhost:3001/get_cheapest_cards', {\n      character_type: character_type\n    }).then(function (card) {\n      dispatch(setCheapestCards(card.data, character_type));\n    }).catch(function (error) {\n      return (//dispatch(signupFailed(error))\n        console.log(error)\n      );\n    });\n  };\n};\nexport var setBookCards = function setBookCards(cards) {\n  return {\n    type: actionTypes.SET_BOOK_CARDS,\n    cards: cards\n  };\n};\nexport var getCardsByTheMenu = function getCardsByTheMenu(time, characters, price) {\n  return function (dispatch) {\n    dispatch(form.startLoading('cardBook'));\n    axios.post('http://localhos:3001/get_cards_by_menu', {\n      time: time,\n      characters: characters,\n      price: price\n    }).then(function (card) {\n      dispatch(setBookCards(card.data));\n      dispatch(form.stopLoading('cardBook'));\n    }).catch(function (error_msg) {\n      //dispatch(signupFailed(error))\n      dispatch(form.compFailed(error_msg, \"cardBook\"));\n      dispatch(form.stopLoading('cardBook'));\n    });\n  };\n};\nexport var getCardsByName = function getCardsByName(name) {\n  return function (dispatch) {\n    dispatch(form.startLoading('cardBook'));\n    axios.post('http://localhost:3001/get_cards_by_name', {\n      name: name.trim()\n    }).then(function (card) {\n      dispatch(setBookCards(card.data));\n      dispatch(form.stopLoading('cardBook'));\n    }).catch(function (error_msg) {\n      //dispatch(signupFailed(error))\n      dispatch(form.compFailed(error_msg, \"cardBook\"));\n      dispatch(form.stopLoading('cardBook'));\n    });\n  };\n};\nexport var removeCard = function removeCard(id) {\n  return {\n    type: actionTypes.DELETE_CARD,\n    id: id\n  };\n};\nexport var deleteCard = function deleteCard(id) {\n  console.log(id);\n  return function (dispatch) {\n    axios.delete('http://localhost:3001/deletecard', {\n      data: {\n        id: id\n      }\n    }).then(function () {\n      dispatch(removeCard(id));\n    }).catch(function (error) {\n      return (//dispatch(signupFailed(error))\n        console.log(error)\n      );\n    });\n  };\n};","map":{"version":3,"sources":["D:\\udemy\\project\\pixwebsite\\src\\store\\actions\\card.js"],"names":["actionTypes","form","axios","addCardToTheDeck","card","type","ADD_CARD_TO_THE_DECK","addCard","imgpath","itemselection","itemname","itemdescription","itemprice","userId","dispatch","startLoading","console","log","post","name","description","price","character_type","image_path","owner_id","then","data","CLOSE_EDIT_ITEM_FORM","stopLoading","catch","error_msg","compFailed","setUserDeck","deck","SET_USER_DECK","getUserCards","error","setCheapestCards","cards","SET_CHEAPEST_CARDS","getCheapestCards","setBookCards","SET_BOOK_CARDS","getCardsByTheMenu","time","characters","getCardsByName","trim","removeCard","id","DELETE_CARD","deleteCard","delete"],"mappings":"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","sourcesContent":["import * as actionTypes from './actionType.js';\r\nimport * as form from './form.js';\r\nimport axios from 'axios';\r\n\r\nexport const addCardToTheDeck = (card) => {\r\n    return {\r\n        type: actionTypes.ADD_CARD_TO_THE_DECK,\r\n        card: card\r\n    }\r\n}\r\n\r\nexport const addCard = (imgpath, itemselection, itemname, itemdescription, itemprice, userId) => {\r\n    return (dispatch) => {\r\n        dispatch(form.startLoading('editItem'));\r\n        console.log(imgpath, itemselection, itemname, itemdescription, itemprice, userId);\r\n        axios.post('http://localhost:3001/addcard', {\r\n            name: itemname,\r\n            description: itemdescription,\r\n            price: itemprice,\r\n            character_type: itemselection,\r\n            image_path: imgpath,\r\n            owner_id: userId\r\n        })\r\n        .then(card => {\r\n            dispatch(addCardToTheDeck(card.data[0]));\r\n            console.log(card);\r\n            dispatch({type: actionTypes.CLOSE_EDIT_ITEM_FORM});\r\n            dispatch(form.stopLoading('editItem'));\r\n        })\r\n        .catch(error_msg => {\r\n            //dispatch(signupFailed(error))\r\n            dispatch(form.stopLoading('editItem'));\r\n            dispatch(form.compFailed(error_msg, \"editItem\"));\r\n        });\r\n    }\r\n};\r\n\r\nexport const setUserDeck = (deck) => {\r\n    return {\r\n        type: actionTypes.SET_USER_DECK,\r\n        deck: deck\r\n    }\r\n} \r\n\r\nexport const getUserCards = (userId) => {\r\n    return (dispatch) => {\r\n        console.log(userId + \"hi\");\r\n        axios.post('http://localhost:3001/get_user_cards', {\r\n            owner_id: userId\r\n        })\r\n        .then(card => {\r\n            dispatch(setUserDeck(card.data));\r\n        })\r\n        .catch(error => \r\n            //dispatch(signupFailed(error))\r\n            console.log(error)\r\n            );\r\n    }\r\n};\r\n\r\nexport const setCheapestCards = (cards, character_type) => {\r\n    return {\r\n        type: actionTypes.SET_CHEAPEST_CARDS,\r\n        cards: cards,\r\n        character_type: character_type\r\n    }\r\n} \r\n\r\nexport const getCheapestCards = (character_type) => {\r\n    return (dispatch) => {\r\n        console.log(character_type + \"hi\");\r\n        axios.post('http://localhost:3001/get_cheapest_cards', {\r\n            character_type: character_type\r\n        })\r\n        .then(card => {\r\n            dispatch(setCheapestCards(card.data, character_type));\r\n        })\r\n        .catch(error => \r\n            //dispatch(signupFailed(error))\r\n            console.log(error)\r\n            );\r\n    }\r\n};\r\n\r\nexport const setBookCards = (cards) => {\r\n    return {\r\n        type: actionTypes.SET_BOOK_CARDS,\r\n        cards: cards\r\n    }\r\n} \r\n\r\nexport const getCardsByTheMenu = (time, characters, price) => {\r\n    return (dispatch) => {\r\n        dispatch(form.startLoading('cardBook'));\r\n        axios.post('http://localhos:3001/get_cards_by_menu', {\r\n            time: time,\r\n            characters: characters,\r\n            price: price\r\n        })\r\n        .then(card => {\r\n            dispatch(setBookCards(card.data));\r\n            dispatch(form.stopLoading('cardBook'));\r\n        })\r\n        .catch(error_msg => {\r\n            //dispatch(signupFailed(error))\r\n            dispatch(form.compFailed(error_msg, \"cardBook\"));\r\n            dispatch(form.stopLoading('cardBook'));\r\n        });\r\n    }\r\n};\r\n\r\nexport const getCardsByName = (name) => {\r\n    return (dispatch) => {\r\n        dispatch(form.startLoading('cardBook'));\r\n        axios.post('http://localhost:3001/get_cards_by_name', {\r\n            name: name.trim()\r\n        })\r\n        .then(card => {\r\n            dispatch(setBookCards(card.data));\r\n            dispatch(form.stopLoading('cardBook'));\r\n        })\r\n        .catch(error_msg => {\r\n            //dispatch(signupFailed(error))\r\n            dispatch(form.compFailed(error_msg, \"cardBook\"));\r\n            dispatch(form.stopLoading('cardBook'));\r\n        });\r\n    }\r\n};\r\n\r\nexport const removeCard = (id) => {\r\n    return {\r\n        type: actionTypes.DELETE_CARD,\r\n        id: id\r\n    }\r\n}\r\n\r\nexport const deleteCard = (id) => {\r\n    console.log(id)\r\n    return (dispatch) => {\r\n        axios.delete('http://localhost:3001/deletecard', {\r\n            data: {\r\n                id: id\r\n            }\r\n        })\r\n        .then(() => {\r\n            dispatch(removeCard(id));\r\n        })\r\n        .catch(error => \r\n            //dispatch(signupFailed(error))\r\n            console.log(error)\r\n        );\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}